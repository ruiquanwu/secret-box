.container.album-photos-index
  .row.album-page-header.text-left
    %h1
      = @album.name
      = link_to "Album Summary", @album, class: 'btn btn-success'
      = link_to "Upload Photos", new_album_photo_path, class: 'btn btn-success'
      = link_to "Save Album", album_photos_path+"?page="+"#{@photos.current_page}", class: 'btn btn-success', id: 'update_photos', remote: true
    %p
      current page: #{@photos.current_page}
  .row.right-panel{:ondragover => "allowDrop(event)", :ondrop => "drop(event)"}
    %button.btn.btn-info.photo-box-btn{:type => "button"} Photo-Box
    .photo-box-content
      - @pictures.each do |picture|
        = image_tag(picture.context.url, class: "img-responsive", id: "picture_id_" + picture.id.to_s,"data-picture": picture.id, draggable: "true", ondragstart: "drag(event)")
    %p You can drag and drop photo to Photo-Box
  
  - if @photos.current_page%2 == 1
    .row.jumbotron.photo-page-right
      - @photos.each do |photo|
        - if @album.orientation == "landscape"
          = render 'landscape_page_right', :album => @album, :photo => photo
        - else
          = render 'portrait_page_right', :album => @album, :photo => photo
  - else
    .row.jumbotron.photo-page-left
      - @photos.each do |photo|
        - if @album.orientation == "landscape"
          = render 'landscape_page_left', :album => @album, :photo => photo
        - else
          = render 'portrait_page_left', :album => @album, :photo => photo

  #page_links.text-center
    = will_paginate @photos
.photo-box
  %button.btn.btn-info.photo-box-btn{:type => "button"} Photo-Box
